{% extends 'base.html' %}
{% block content %}


<title>My Garden: {{ user.fname }}</title>

<h1 id="mygardenheader">My Garden</h1>

<p>{{ user.fname }}, check it out!</p>
<br>
<center><div id="addgarden">
    <button type="button" class="btn btn-primary btn-sm" id="addgarden-btn1">
<a href="/addgarden" id="addgarden-btn1">Add a new garden</a></button>
       <button type="button" class="btn btn-primary btn-sm" id="addgarden-btn2">

    <a href="/addplant" id="addgarden-btn2">Add another plant</a>
</div></center><p>

{% for garden in usergardens %}
<h3 id="garden-name-desc"><b>
    {{ garden.garden_name }}: {{ garden.garden_desc }} 
</h3></b>
<div id="table">
<table class="table table-hover">
  <thead class="thead-light">
  <tr>
    <th>Plant Name</th>
    <th>Plant Description</th>
    <th>Date Planted</th>
    <th>Harvest Date(no. days)</th>
    <th>Note</th>
    <th>Watering</th>
    <th>Sun Exposure</th>
    <th>Add to Calendar?</th>
  </tr>
  </thead>
  <tbody>
  {% for gardenplant in garden.gardenplants %}
    <tr>
        <td>{{ gardenplant.plant.pname }} </td>
        <td>{{ gardenplant.plant.pdescription }}</td>
        <td>{{ gardenplant.planted_date }}</td>
        <td>{{ gardenplant.harvest_date }}</td>
        <td>{{ gardenplant.plant.plant_note }}</td>
        <td>{{ gardenplant.plant.water.water_name }}</td>
        <td>{{ gardenplant.plant.sun.sun_name }}</td>
        <td> 
            <form action="/saveharvestevent" method="POST">
             <button type="submit" name="gardenplants_id" value="{{ gardenplant.gardenplants_id }}">Add to Calendar</button>
            </form>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endfor %}
</div>
{% endblock %}